
<!-- saved from url=(0059)http://picmania.garcia-cuervo.net/proyectos_teclado_ps2.htm -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">

<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="frontpage.editor.document">
<title>Proyectos : Teclado PS/2</title><style>
<!--
.tabla_texto_1
{
	color: #000080;
	background-color: #F0E68C;
	background-image: ;
	font-family: verdana, Arial, Helvetica, sans-serif;
	font-size: 11px;
	TEXT-DECORATION: none
}
-->
</style>
<meta name="Microsoft Border" content="tb, default">
</head>

<body stylesrc="fondo.htm" background="./Proyectos   Teclado PS 2_files/fondo_circuito_pic.gif" link="#FF0000" vlink="#CC3300" alink="#FF0000"><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td>
<div align="center">
  <center>
  <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="75%" id="AutoNumber4">
    <tbody><tr>
      <td width="100%"><font face="Verdana" size="5"><font color="#FF0000"><b>P</b>ic</font>Manía by
      <font color="#FF0000"><b>R</b>ed</font>raven</font></td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
  </tbody></table>
  </center>
</div>
<hr color="#FF0000" width="75%">
<p align="center"><font size="2" face="Verdana"><a href="http://picmania.garcia-cuervo.net/index.php">Inicio</a> 
. <a href="http://picmania.garcia-cuervo.net/mapa.php">Mapa</a> 
. <a href="http://picmania.garcia-cuervo.net/presenta.php">Presentación</a>&nbsp;.
<a href="http://picmania.garcia-cuervo.net/electronica_basica.php">Electrónica Básica</a> .
<a href="http://picmania.garcia-cuervo.net/experimentos.php">Experimentos</a> . <a href="http://picmania.garcia-cuervo.net/proyectos.php">Proyectos</a> .
<a href="http://picmania.garcia-cuervo.net/picc.php">CCS C</a>&nbsp;. <a href="http://picmania.garcia-cuervo.net/c30.php">C30</a>&nbsp;.<a href="http://picmania.garcia-cuervo.net/ensamblador.php">MPASM</a> .
<a href="http://picmania.garcia-cuervo.net/invitados.php">Invitados</a> . <a href="http://picmania.garcia-cuervo.net/eagle.php">Eagle</a><br>
<a href="http://picmania.garcia-cuervo.net/documentacion_datasheets.php">Datasheets</a> . <a href="http://picmania.garcia-cuervo.net/ics.php">IC´s</a> .
<a href="http://picmania.garcia-cuervo.net/usb_0_desencadenado.php">USB</a> . <a href="http://picmania.garcia-cuervo.net/conceptos.php">Conceptos</a> . <a href="http://picmania.garcia-cuervo.net/trucos.php">Trucos e Ideas</a> .
<a href="http://picmania.garcia-cuervo.net/recursos.php">Recursos</a> . <a href="http://picmania.garcia-cuervo.net/enlaces.php">Enlaces</a> .
<a href="http://picmania.garcia-cuervo.net/noticias.php">Noticias</a> . <a href="http://picmania.garcia-cuervo.net/historico.php">Histórico</a> .
<a href="http://picmania.garcia-cuervo.net/cajon.php">Cajón de 
Sastre</a> . <a href="http://picmania.garcia-cuervo.net/visitas.php">Visitas</a></font></p>
<!-- SiteSearch Google -->
<form method="get" action="http://www.google.es/custom" target="_top">
<div align="center">
  <center>
<table border="0" bgcolor="#ffffff" style="border-collapse: collapse" bordercolor="#111111" cellpadding="0" cellspacing="0">
<tbody><tr><td nowrap="nowrap" valign="top" align="left" height="32">
<a href="http://www.google.com/">
<img src="./Proyectos   Teclado PS 2_files/logo_25wht.gif" border="0" alt="Google" align="middle" width="75" height="32"></a>
</td>
<td nowrap="nowrap">
<input type="hidden" name="domains" value="picmania.garcia-cuervo.com">
<input type="text" name="q" size="31" maxlength="255" value="">
<input type="submit" name="sa" value="Búsqueda">
</td></tr>
<tr>
<td>&nbsp;</td>
<td nowrap="nowrap">
<table>
<tbody><tr>
<td>
<input type="radio" name="sitesearch" value="" checked="checked">
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="picmania.garcia-cuervo.com">
<b>
<font size="-1" color="#FF0000">P</font></b><font size="-1" color="#000000">ic</font><b><font size="-1" color="#FF0000">M</font></b><font size="-1" color="#000000">anía</font>
</td>
</tr>
</tbody></table>
<input type="hidden" name="client" value="pub-7769151866033601">
<input type="hidden" name="forid" value="1">
<input type="hidden" name="ie" value="ISO-8859-1">
<input type="hidden" name="oe" value="ISO-8859-1">
<input type="hidden" name="cof" value="galt:#cc0000;gl:1;div:#cc0000;vlc:804000;ah:center;bgc:ffffff;lbgc:940f04;alc:a9501b;lc:a9501b;t:000000;gfnt:6f3c1b;gimp:6f3c1b;lh:50;lw:109;l:http://picmania.garcia-cuervo.com/images/logo_picmania.jpg;S:http://;FORID:1;">
<input type="hidden" name="hl" value="es">
</td></tr></tbody></table>
  </center>
</div>
</form>
<!-- SiteSearch Google -->


</td></tr><!--msnavigation--></tbody></table><!--msnavigation--><table dir="ltr" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><!--msnavigation--><td valign="top">

<hr color="#FF0000" width="75%">
<div align="center">
  <center>
  <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="75%" id="AutoNumber5">
    <tbody><tr>
      <td width="33%">&nbsp;</td>
      <td width="33%">

<p align="center"><font face="Verdana"><font color="#FF0000"><b>P</b></font>ROYECTOS 
: TECLADO PS/2</font></p>
      </td>
      <td width="34%">&nbsp;</td>
    </tr>
  </tbody></table>
  </center>
</div>
<div align="center">
  <center>
  <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="75%" id="AutoNumber6">
    <tbody><tr>
      <td width="100%">
<hr color="#FF0000">
      <p>&nbsp;</p></td>
    </tr>
    </tbody></table>
  </center>
</div>
<div align="center">
  <center>
  <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="75%" id="AutoNumber6">
    <tbody><tr>
      <td width="100%">
      <p align="center">&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%">
      <p><font face="Verdana"><b>Conectando un Teclado PS/2 a la
      <a href="http://picmania.garcia-cuervo.net/proyectos_rrboard1.php">RRBOARD1</a> </b>(Previo al
      <a href="http://picmania.garcia-cuervo.net/proyectos_kbdemul.php">Emulacion Teclado PS/2</a>)</font></p>
      </td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
    <tr>
      <td width="100%"><b><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/01.gif" width="24" height="21"> Descripción y 
      funcionamiento a "<i>alto nivel</i>":<br>
&nbsp;</font></b></td>
    </tr>
    <tr>
      <td width="100%" height="13">
      <ul>
        <li>
        <p align="justify"><font face="Verdana" size="2">&nbsp;&nbsp; Un <b>
        teclado PS/2</b> de 104 teclas para PC es un dispositivo razonablemente
        <i>inteligente</i>. Esto quiere decir que él mismo se encarga de la 
        parte hardware del rastreo de teclas, de evitar los insufribles rebotes 
        y de transmitirnos, mediante una trama perfectamente establecida, de los 
        resultados de nuestras manipulaciones sobre sus teclas.</font></p></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%" height="13">
      <ul>
        <li>
        <p align="justify"><font face="Verdana" size="2">&nbsp;&nbsp; El teclado 
        PS/2 tiene un <b>mapa de teclas</b> a las que asigna un <b>código</b>, 
        de uno o dos bytes, para cada una de ellas y que son los códigos que nos 
        va a transmitir para indicarnos que se está pulsando una tecla 
        determinada. A estos códigos les vamos a llamar <b>códigos de rastreo de 
        teclado</b>. Más abajo os muestro una imagen de un teclado estándar 
        donde se muestran los códigos de rastreo de todas y cada una de las 
        teclas:</font></p></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%" height="13">
      <p align="center">
      <img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_scancode_01.gif" width="587" height="256"><br>
&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%" height="13">
      <p align="center"><img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_scancode_02.gif" width="338" height="285"><br>
&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%" height="13">
      <ul>
        <li>
        <p align="justify"><font face="Verdana" size="2">&nbsp;&nbsp; El teclado 
        PS/2 envía el <b>código de rastreo</b> asociado a una tecla al ser ésta 
        pulsada, tantas veces como sea necesario si se mantiene pulsada con una 
        cadencia tal como indique su tiempo de repetición, que es programable, y 
        el mismo código de rastreo con el prefijo del byte <b>F0h</b> al ser 
        soltada, también conocido como <b>Break Code</b>.</font></p></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%" height="13">
      <ul>
        <li>
        <p align="justify"><font face="Verdana" size="2">&nbsp;&nbsp; <b>Por 
        ejemplo</b>: Para conseguir la letra <b>G Mayúscula</b> debemos pulsar 
        la tecla Shift y mientras la mantenemos pulsada, pulsar la tecla G, 
        soltar la tecla G y soltar la tecla Shift. Esa secuencia de pulsaciones 
        nos va a hacer que el teclado transmita la siguiente secuencia de bytes:<br>
        <br>
        <i>Pulsar Shift</i> -&gt; 12h, <i><br>
        Pulsar "G"</i> -&gt; 34h, <i><br>
        Soltar "G"</i> -&gt; F0h 34h <i><br>
        y soltar Shift</i> -&gt; F0h 12h<br>
        <br>
        o escribiendo solo los bytes que vamos a recibir:<br>
        <br>
        <b>1h, 34h, F0h, 34h, F0h, 12h</b><br>
        <br>
        Ahí queda eso.</font></p></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%" height="13">
      <ul>
        <li><font face="Verdana" size="2">Nuestro cometido va a ser recibir e 
        interpretar esta secuencia de bytes y actuar en consecuencia.</font></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <ul>
        <li>
        <p align="justify"><font face="Verdana" size="2">El teclado PS/2 también 
        admite comandos. Dispone de funciones build-in que podemos disparar 
        mediante el envío del comando correspondiente. Abajo muestro una tabla 
        con los comandos disponibles que podemos enviarle a nuestro teclado. 
        (Nosotros, en este proyecto no vamos a utilizarlos, pero ahí quedan por 
        si alguno de mis amables visitantes desea ampliar la funcionalidad del 
        mismo).</font></p></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <p align="center"><img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_commands.gif" width="600" height="515"></p>
      <p align="center">&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
    <tr>
      <td width="100%" height="24">
      <b><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/02.gif" width="24" height="21"> Conexionado 
      eléctrico:</font></b></td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
    <tr>
      <td width="100%">
      <ul>
        <li>
        <p align="justify"><font face="Verdana" size="2">&nbsp;&nbsp; El teclado 
        PS/2 se conecta mediante cuatro hilos. Dos de ellos son para 
        alimentación <b>Vcc a 5V</b> y <b>GND</b>, y otros dos para las señales
        <b>Data</b> y <b>Clock</b>. El pinout de los conectores Mini-DIN PS/2 
        tanto hembra, los del PC, como machos, los del Teclado, es tal como se 
        muestra en la imagen inferior:</font></p></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <p align="center">
      <img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_connector.gif" width="313" height="469"><br>
&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%">
      <ul>
        <li>
        <p align="justify"><font face="Verdana" size="2">&nbsp;&nbsp; En el 
        Teclado PS/2 las señales Data y Clock con de "<i><b>colector abierto</b></i>". 
        Esto quiere decir que para establecer un comunicación eléctricamente 
        correcta debemos nosotros suministrar voltaje para el nivel lógico alto, 
        y es él el encargado de dar los correspondiente niveles lógicos bajos, 
        tirando nuestra señal a <b>GND</b> cuando así sea necesario. Este tema 
        se soluciona conectando dos resistencias de 10K entre dichas líneas y 
        Vcc por lo que siempre tendrán nivel lógico alto, salvo cuando el 
        teclado disponga lo contrario y lo tire a GND para dar lo 
        correspondientes niveles lógicos bajos. Esto es lo que se llama conectar 
        unas resistencias <b>Pull-Up</b>.</font></p></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <ul>
        <li><font face="Verdana" size="2">El esquema de mas abajo muestra como 
        conectar las resistencias Pull-Up entre el teclado y el PIC:<br>
&nbsp;</font></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <p align="center"><img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_connection.gif" width="481" height="313"><br>
&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%" height="13">
      <ul>
        <li>
        <p align="justify"><font face="Verdana" size="2"><b>Nota</b>: 
        Generalmente nuestros PIC's y en concreto el yo utilizo para este 
        proyecto, el PIC <b>16F628A</b>, tiene todo el puerto B con la capacidad 
        de conectar, mediante la correspondiente configuración, una batería de
        <b>resistencias Pull-Up a todos sus pines</b>. Esto hace innecesario la 
        conexión de las resistencias externas tal como se presenta en el esquema 
        anterior, pero lo indico porque podríamos tener que utilizar cualquier 
        otro puerto que no disponga de esta característica, y en ese caso sí que 
        deberíamos conectarlas para su correcto funcionamiento.<br>
&nbsp;</font></p></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      &nbsp;</td>
    </tr>
    <tr>
      <td width="100%">
      <b><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/03.gif" width="24" height="21"> Protocolo de 
      comunicación PS/2:</font></b></td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
    <tr>
      <td width="100%">
      <ul>
        <li><font face="Verdana" size="2">&nbsp;El teclado PS/2 se comunica 
        mediante un <b>Protocolo Serie Síncrono</b>. Utiliza, por lo tanto, una 
        señal de <b>Clock</b> que índica cuando están disponibles los 
        correspondientes bits en la señal de <b>Data</b>.</font></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <blockquote>
        <ul>
          <li>
          <p align="justify"><font face="Verdana" size="2">En reposo la señal de 
          Clock está a nivel alto; a cada pulso a nivel bajo corresponde un 
          pulso a nivel alto o bajo en la señal de Data, que se traducen 
          respectivamente como bits 0 ó 1&nbsp; del dato a transmitir.</font></p></li>
        </ul>
      </blockquote>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <blockquote>
        <ul>
          <li><font face="Verdana" size="2">La <b>trama</b> completa se compone 
          de <b>11 bits</b>. Siendo el primero un bit de <b>Start</b>, a 
          continuación los 8 bits del <b>Dato</b> a transmitir enviándose 
          primero el LSB (ó bit menos significativo), el décimo es el de <b>
          paridad</b> (usa la Impar, u Odd en Inglés) y por último un bit de ACK 
          o <b>Stop</b>.</font></li>
        </ul>
      </blockquote>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <ul>
        <li><font face="Verdana" size="2">Abajo puede verse un cronograma de 
        esta trama de comunicación PS/2 Teclado (<font color="#0000FF">Keyboard</font>) 
        -&gt; PC (<font color="#FF0000">host</font>):</font></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <p align="center">
      <img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_kbd2host.gif" width="620" height="137"><br>
&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%">
      <ul>
        <li>
        <p align="justify"><font face="Verdana" size="2">Este protocolo de 
        comunicación es <b>bidireccional</b>. El teclado PS/2 admite también 
        comandos enviados desde el PC con el mismo formato que estamos 
        estudiando, tal como adelantamos en el primer apartado de este proyecto. 
        Y tal como decíamos allí, nosotros no vamos a implementar el envío de 
        comandos al teclado, pero creo conveniente discutir también su 
        procedimiento de envío, a nivel de protocolo por si alguien desea 
        implementarlos en su propio trabajo. </font></p></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <blockquote>
        <ul>
          <li><font face="Verdana" size="2">Para poder habilitar la comunicación 
          inversa, del PC (host) al Teclado PS/2 (Keyboard) debemos primero 
          indicárselo así al Teclado mediante la señal de Clock. Para ello 
          debemos poner a nivel bajo el Clock durante unos 160 uS, y la señal de 
          Data a bajo unos 35 uS después de haber lanzado la del Clock. A partir 
          de ahí debemos esperar la señal del Clock generada por el Teclado. 
          Esto nos indicará que el teclado está dispuesto para recibir nuestro 
          comando. Detectamos dicha señal como primer pulso de Clock, y a partir 
          del siguiente podemos comenzar a enviarle nuestro byte.</font></li>
        </ul>
      </blockquote>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <blockquote>
        <ul>
          <li>
          <p align="justify"><font face="Verdana" size="2">Le enviaremos 
          entonces los ocho bits de nuestro comando, cada uno de ellos cuando el 
          correspondiente pulso en bajo del Clock del teclado así nos lo 
          indique, empezando por el LSB, a continuación el bit de paridad impar 
          (El numero de unos en los datos mas el de paridad deber ser impar o 
          sea 1 si el numero de unos es par y cero si el total de unos es impar)</font></p></li>
        </ul>
      </blockquote>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <blockquote>
        <ul>
          <li>
          <p align="justify"><font face="Verdana" size="2">Y entonces debemos 
          esperar el ACK del teclado, que debe venir tras dos pulsos de reloj, 
          en nivel bajo, indicándonos de este modo que el teclado ha recibido 
          correctamente nuestro comando. en caso contrario debemos volver a 
          repetir nuestra secuencia de envío.</font></p></li>
        </ul>
      </blockquote>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <ul>
        <li><font face="Verdana" size="2">Mas abajo se muestra un cronograma de 
        la transmisión PC (<font color="#FF0000">host</font>) -&gt; Teclado PS/2 (<font color="#0000FF">Keyboard</font>)</font></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_host2kbd.gif" width="723" height="137"></td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
    <tr>
      <td width="100%"><font face="Verdana" size="2">Y con esto creo que ya 
      estamos en disposición de implementar la lectura de nuestro teclado con el 
      PIC.</font></td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
    <tr>
      <td width="100%"><b><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/04.gif" width="24" height="21"> Implementación 
      en la <a href="http://picmania.garcia-cuervo.net/proyectos_rrboard1.php">RRBOARD1</a>:</font></b></td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
    <tr>
      <td width="100%">
      <ul>
        <li>
        <p align="justify"><font face="Verdana" size="2">&nbsp;La <b>RRBOARD1</b> 
        calza un PIC <b>16F628</b>, y de este micro vamos a hacer uso de un par 
        de características que nos vienen como anillo al dedo:&nbsp; </font>
        </p></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <blockquote>
        <ul>
          <li>
          <p align="justify"><font face="Verdana" size="2">&nbsp;Por un lado lo 
          que ya hemos visto en el apartado de la conexión eléctrica, y que 
          consiste en activar las resistencias <b>pull-up internas</b> del PIC 
          para evitar así el tener que cablearlas externamente entre las señales 
          Clock &amp; Data y Vcc.</font></p></li>
        </ul>
      </blockquote>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <blockquote>
        <ul>
          <li>
          <p align="justify"><font face="Verdana" size="2">La otra 
          característica que vamos a utilizar es la de la interrupción por 
          disparo externo, <b>INT_EXT</b>,&nbsp; que tenemos disponible en el 
          Pin RB0 del puerto B. Con esta interrupción vamos a detectar la señal 
          del Clock del teclado, que nos indica periódicamente cuando tenemos 
          disponible el siguiente bit a leer, hasta completar nuestra 
          comunicación.</font></p></li>
        </ul>
      </blockquote>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <ul>
        <li>
        <p align="justify"><font face="Verdana" size="2">Para ello he modificado 
        el conector de 10 pines de que dispone la RRBOARD1 publicando los pines 
        RB0 y RB3 que serán los encargados de las señales de Clock y Data 
        respectivamente. He cortado un cable alargador de Teclado PS/2, que 
        dispone de los correspondientes conectores macho y hembra PS/2 en sus 
        extremos, y he soldado los hilos correspondientes al conector hembra a 
        los hilos Vcc, GND, RB0 y RB3 del cable plano del conector de 10 hilos 
        de la RRBOARD1. Abajo puede verse una imagen de esta conexión:</font></p></li>
      </ul>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <p align="center">
      <img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_rrboard1_connected.jpg" width="433" height="649"><br>
&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%"><font face="Verdana" size="2">Y con esto ya tenemos listo 
      todo el Hardware necesario para poder "leer" el teclado PS/2 desde la 
      RRBOARD1. A continuación vamos a ver el Software que vamos a construir.</font></td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
    <tr>
      <td width="100%">
      <b><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/05.gif" width="24" height="21"> Software de 
      lectura:</font></b></td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
    <tr>
      <td width="100%"><font face="Verdana" size="2">Antes que nada deciros que 
      este programa no lo he hecho yo. Como podéis ver en los créditos iniciales 
      está realizado por <b>XP8100</b>. Yo solo me he limitado a adaptarlo a mi 
      hardware específico, y a monitorizar tanto los códigos de rastreo de 
      teclado involucrados como el carácter decodificado correspondiente.</font><p>&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%">&nbsp;</td>
    </tr>
    </tbody></table>
  </center>
</div>
<div align="center">
  <center>
<table id="Fuentes1" style="BORDER-COLLAPSE: collapse" bordercolor="#111111" cellspacing="0" cellpadding="0" width="80%" border="0">
  <tbody><tr>
    <td width="28" background="./Proyectos   Teclado PS 2_files/cp-tl.gif" height="28">&nbsp;</td>
    <td background="./Proyectos   Teclado PS 2_files/cp-tc.gif">
    &nbsp;</td>
    <td width="48" background="./Proyectos   Teclado PS 2_files/cp-tr.gif" height="28">&nbsp;</td></tr>
  <tr>
    <td background="./Proyectos   Teclado PS 2_files/cp-lc.gif">&nbsp;</td>
    <td bgcolor="#ffffcc"><font face="Lucida Console" size="1"><br>
    //-----------------------------------------------------------------------------<br>
    // Title: keyboard_pc_to_rs232.c<br>
    // Description: Interfase entre un teclado convencional tipo AT y un puerto 
    RS232C<br>
    // Date: Abr-2005<br>
    // Ver.Rev.: V01<br>
    // Author: XP8100 (xp8100@gmail.com)<br>
    //<br>
    // #Based on the AN AVR313: Interfacing the PC AT Keyboard from ATMEL#<br>
    // #Adaptado para 16F628A por Redraven<br>
    //<br>
    //-----------------------------------------------------------------------------<br>
    //<br>
    // init_kb() Inicializa rutina y contadores<br>
    //<br>
    // decode (char) Decodifica la pulsación realizada, convirtiendola a un 
    caracter de la tabla<br>
    //<br>
    // int_ext_isr Rutina de gestión de interrupciones. Captura los diferentes 
    bit's<br>
    //<br>
    //-----------------------------------------------------------------------------<br>
    // RB0 - Señal de reloj<br>
    // RB3 - Tren de impulsos (11 bit) Start+10101010+Paridad+Stop<br>
    //-----------------------------------------------------------------------------<br>
    //<br>
    // Commment : Permite conectar un teclado convencional de PC a un entorno<br>
    // gestionado por un PIC 16F877.<br>
    // El actual sistema se define como un primer prototipo, en el que no se 
    realizan<br>
    // acciones concretas asociadas a teclas establecidas.<br>
    // Tampoco se actua sobre los indicadores luminosos del teclado, repetición 
    de teclas, ...<br>
    //<br>
    //<br>
    //<br>
    // THIS DOCUMENT IS PROVIDED TO THE USER 'AS IS'<br>
    //-----------------------------------------------------------------------------<br>
    #include "16F628a.h"<br>
    #fuses HS,NOWDT,NOPROTECT,NOPUT,NOBROWNOUT,NOLVP<br>
    #use Delay(Clock=20000000)<br>
    #use rs232(baud=19200, xmit=PIN_B2, rcv=PIN_B1)<br>
    #zero_ram<br>
    //-----------------------------------------------------------------------------<br>
    // Definiciones globales<br>
    //-----------------------------------------------------------------------------<br>
    unsigned char edge, bitcount;<br>
    char got_interrupt;<br>
    char interrupt_count;<br>
    char status_b3;<br>
    #bit INTF_BIT = 0x0B.1 // INTCON BIT 1 = INTF RB0/INT External Interrupt 
    Flag Bit<br>
    //-------- Tabla de caracteres correspondientes a la pulsación de la tecla<br>
    //-------- en modalidad normal (sin pulsar SHIFT)<br>
    unsigned char const unshifted[68][2] = {<br>
    0x0d,9,<br>
    0x0e,'º', 0x15,'q', 0x16,'1', 0x1a,'z', 0x1b,'s', 0x1c,'a', 0x1d,'w',<br>
    0x1e,'2', 0x21,'c', 0x22,'x', 0x23,'d', 0x24,'e', 0x25,'4', 0x26,'3',<br>
    0x29,' ', 0x2a,'v', 0x2b,'f', 0x2c,'t', 0x2d,'r', 0x2e,'5', 0x31,'n',<br>
    0x32,'b', 0x33,'h', 0x34,'g', 0x35,'y', 0x36,'6', 0x39,',', 0x3a,'m',<br>
    0x3b,'j', 0x3c,'u', 0x3d,'7', 0x3e,'8', 0x41,',', 0x42,'k', 0x43,'i',<br>
    0x44,'o', 0x45,'0', 0x46,'9', 0x49,'.', 0x4a,'-', 0x4b,'l', 0x4c,'ñ',<br>
    0x4d,'p', 0x4e,''', 0x52,'´', 0x54,'`', 0x55,'¡', 0x5a,13, 0x5b,'+',<br>
    0x5d,'ç', 0x61,'&lt;', 0x66,8, 0x69,'1', 0x6b,'4', 0x6c,'7', 0x70,'0',<br>
    0x71,'.', 0x72,'2', 0x73,'5', 0x74,'6', 0x75,'8', 0x79,'+', 0x7a,'3',<br>
    0x7b,'-', 0x7c,'*', 0x7d,'9',<br>
    0,0<br>
    };<br>
    //-------- Tabla de caracteres correspondientes a la pulsación de la tecla<br>
    //-------- en modalidad desplazamiento (pulsando SHIFT)<br>
    unsigned char const shifted[68][2] = {<br>
    0x0d,9,<br>
    0x0e,'ª', 0x15,'Q', 0x16,'!', 0x1a,'Z', 0x1b,'S', 0x1c,'A', 0x1d,'W',<br>
    0x1e,'"', 0x21,'C', 0x22,'X', 0x23,'D', 0x24,'E', 0x25,'$', 0x26,'·',<br>
    0x29,' ', 0x2a,'V', 0x2b,'F', 0x2c,'T', 0x2d,'R', 0x2e,'%', 0x31,'N',<br>
    0x32,'B', 0x33,'H', 0x34,'G', 0x35,'Y', 0x36,'&amp;', 0x39,'L', 0x3a,'M',<br>
    0x3b,'J', 0x3c,'U', 0x3d,'/', 0x3e,'(', 0x41,';', 0x42,'K', 0x43,'I',<br>
    0x44,'O', 0x45,'=', 0x46,')', 0x49,':', 0x4a,'_', 0x4b,'L', 0x4c,'Ñ',<br>
    0x4d,'P', 0x4e,'?', 0x52,'¨', 0x54,'^', 0x55,'¿', 0x5a,13, 0x5b,'*',<br>
    0x5d,'Ç', 0x61,'&gt;', 0x66,8, 0x69,'1', 0x6b,'4', 0x6c,'7', 0x70,'0',<br>
    0x71,'.', 0x72,'2', 0x73,'5', 0x74,'6', 0x75,'8', 0x79,'+', 0x7a,'3',<br>
    0x7b,'-', 0x7c,'*', 0x7d,'9',<br>
    0,0<br>
    };<br>
    //-----------------------------------------------------------------------------<br>
    // Definición de protipos<br>
    //-----------------------------------------------------------------------------<br>
    void init_kb(void);<br>
    void decode(unsigned char sc);<br>
    //-----------------------------------------------------------------------------<br>
    // Rutina de gestión de interrupciones<br>
    //-----------------------------------------------------------------------------<br>
    #int_ext<br>
    void int_ext_isr(void){<br>
&nbsp; unsigned char data;<br>
&nbsp; //-------- Los bit 3 a 10 se considerran datos. Paridad, start y stop<br>
&nbsp; //-------- son ignorados<br>
&nbsp; if(bitcount &lt; 11 &amp;&amp; bitcount &gt; 2){<br>
&nbsp;&nbsp;&nbsp; data = (data &gt;&gt; 1);<br>
&nbsp;&nbsp;&nbsp; status_b3 = input(PIN_B3);<br>
&nbsp;&nbsp;&nbsp; if((status_b3) == 1){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; data = data | 0x80;<br>
&nbsp;&nbsp; }<br>
&nbsp; }<br>
&nbsp; //-------- Todos los bits se han recibido<br>
&nbsp; if(--bitcount == 0){<br>
&nbsp;&nbsp;&nbsp; decode(data);<br>
&nbsp;&nbsp;&nbsp; data = 0;<br>
&nbsp;&nbsp;&nbsp; bitcount = 11;<br>
&nbsp;&nbsp;&nbsp; got_interrupt = TRUE;<br>
&nbsp; }<br>
&nbsp; got_interrupt = TRUE;<br>
&nbsp; interrupt_count++;<br>
&nbsp; disable_interrupts(INT_EXT);<br>
    }<br>
    //-----------------------------------------------------------------------------<br>
    // Main<br>
    //-----------------------------------------------------------------------------<br>
    void main(void){<br>
&nbsp; delay_ms(100);<br>
&nbsp; init_kb();<br>
&nbsp; //-------- Los pins indicados (B0 y B3) son configurados como entradas.<br>
&nbsp; output_float(PIN_B0);<br>
&nbsp; output_float(PIN_B3);<br>
&nbsp; //-------- Activa pullups sobre todos los pins del puerto B.<br>
&nbsp; port_b_pullups(TRUE);<br>
&nbsp; //-------- Espera a que se activen.<br>
&nbsp; delay_us(5);<br>
&nbsp; //-------- Inicializa las variables usadas por la rutina de interrupción<br>
&nbsp; //-------- antes de activar las interrupciones<br>
&nbsp; interrupt_count = 0;<br>
&nbsp; got_interrupt = FALSE;<br>
&nbsp; status_b3 = 0;<br>
&nbsp; //-------- Desde que se activó el modo PULLUPS del puerto B, el estado<br>
&nbsp; //-------- normal del pin B0 es ALTO. La gestión de la interrupción 
    externa<br>
&nbsp; //-------- se gestiona cuando se produce un cambio de nivel ALTO a BAJO.<br>
&nbsp; ext_int_edge(H_TO_L);<br>
&nbsp; //-------- Asegurarse de que el el bit de flag de la interrupción externa<br>
&nbsp; //-------- es borrado antes de activar la gestión de dicha interrupción<br>
&nbsp; //-------- externa.<br>
&nbsp; INTF_BIT = 0;<br>
&nbsp; enable_interrupts(INT_EXT);<br>
&nbsp; enable_interrupts(GLOBAL);<br>
&nbsp; //-------- Bucle principal.<br>
&nbsp; //-------- Chequear si se produce alguna interrupción (got_interrupt). Si 
    es así, contar, borrar<br>
&nbsp; //-------- el flag y esperar 50 ms, reactivando la gestión de las 
    interrupciones<br>
&nbsp; while(1){<br>
&nbsp;&nbsp;&nbsp; //-------- Chequear si se produce alguna interrupción (got_interrupt).<br>
&nbsp;&nbsp;&nbsp; if(got_interrupt == TRUE){<br>
&nbsp;&nbsp;&nbsp; //-------- Borrar el flag global que se inicio en la rutina 
    de servicio<br>
&nbsp;&nbsp;&nbsp; //-------- de interrupciones externas.<br>
&nbsp;&nbsp;&nbsp; got_interrupt = FALSE;<br>
&nbsp;&nbsp;&nbsp; //-------- Esperar 50 ms para evitar rebotes en los contactos 
    de las teclas.<br>
&nbsp;&nbsp;&nbsp; //delay_ms(50);<br>
&nbsp;&nbsp;&nbsp; //-------- Borrar cualquier interrupción producida durante el 
    periodo de espera.<br>
&nbsp;&nbsp;&nbsp; INTF_BIT = 0;<br>
&nbsp;&nbsp;&nbsp; //-------- Reactivar interrupciones<br>
&nbsp;&nbsp;&nbsp; enable_interrupts(INT_EXT);<br>
&nbsp;&nbsp;&nbsp; } // --- End If ---<br>
&nbsp; } // --- End While ---<br>
    } // --- End MAIN ---<br>
    //-----------------------------------------------------------------------------<br>
    // Funciones<br>
    //-----------------------------------------------------------------------------<br>
    <br>
    //-----------------------------------------------------------------------------<br>
    // Inicialización de teclado.<br>
    //-----------------------------------------------------------------------------<br>
    void init_kb(void){<br>
&nbsp; //-------- Longitud de la trama para cada pulsación y mensaje de 
    bienvenida<br>
&nbsp; bitcount = 11;<br>
&nbsp; printf("\n\rPC AT Keyboard Interface Ver 1.0 by XP8100" );<br>
&nbsp; printf("\n\rAdpapted for 16F628A by Redpic" );<br>
&nbsp; printf("\n\rDecoder and Monitoring for 16F628A connected ...\n\r\n\r" );<br>
    }<br>
    //-----------------------------------------------------------------------------<br>
    // Decodificación de pulsaciones<br>
    //-----------------------------------------------------------------------------<br>
    void decode(unsigned char sc){<br>
&nbsp; static unsigned char is_up=0, shift = 0, mode = 0;<br>
&nbsp; unsigned char i;<br>
    <br>
&nbsp; printf("[%X]",sc); // Monitor de código de rastreo<br>
    <br>
&nbsp; //-------- El último dato recibido fue el identificador de Up-Key<br>
&nbsp; if (!is_up){<br>
&nbsp;&nbsp;&nbsp; switch (sc){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-------- Identificador de Up-Key<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 0xF0 :<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is_up = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-------- SHIFT Izquierdo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 0x12 :<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shift = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-------- SHIFT Derecho<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 0x59 :<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shift = 1;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-------- ENTER<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 0x5A :<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shift = 0;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("\n\r" );<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-------- Si no es ninguno de los 
    identificadores especiales, procesar<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-------- pulsación, localizando caracter en 
    tabla de caracteres.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; default:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-------- Pulsación normal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if(!shift){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i = 0; unshifted[ i 
    ][ 0 ]!=sc &amp;&amp; unshifted[ i ][ 0 ]; i++);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (unshifted[ i ][ 0 ] 
    == sc){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("&lt;%c&gt;", 
    unshifted[ i ][ 1 ]);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-------- Pulsación + SHIFT presionado<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(i = 0; shifted[ i ][ 0 ]!=sc 
    &amp;&amp; shifted[ i ][ 0 ]; i++);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (shifted[ i ][ 0 ] == sc){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; printf("&lt;%c&gt;", 
    shifted[ i ][ 1 ]);<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br>
&nbsp;&nbsp;&nbsp;&nbsp; } // --- End Switch<br>
&nbsp;&nbsp; }<br>
&nbsp;&nbsp; else<br>
&nbsp;&nbsp; {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-------- No se permiten 2 0xF0 en una fila<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; is_up = 0;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; switch (sc){<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-------- SHIFT Izquierdo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 0x12 :<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shift = 0;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //-------- SHIFT Derecho<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case 0x59 :<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; shift = 0;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } // --- End Switch<br>
&nbsp;&nbsp;&nbsp; }<br>
    }<br>
&nbsp;</font></td>
    <td width="48" background="./Proyectos   Teclado PS 2_files/cp-rc.gif">&nbsp;</td></tr>
  <tr>
    <td width="28" background="./Proyectos   Teclado PS 2_files/cp-bl.gif" height="48">&nbsp;</td>
    <td class="caption" valign="top" background="./Proyectos   Teclado PS 2_files/cp-bc.gif">
    <p style="text-align: left"><font face="Verdana" size="2">Descargar
    <a target="_blank" href="http://picmania.garcia-cuervo.net/recursos/_keyboard_pc_v02_monitor.c">Fuentes</a></font></p></td>
    <td width="48" background="./Proyectos   Teclado PS 2_files/cp-br.gif" height="48">&nbsp;</td></tr>
</tbody></table>
    
    
    </center>
</div>
<p>&nbsp;</p>
<div align="center">
  <center>
  <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="75%" id="AutoNumber6" height="55">
    <tbody><tr>
      <td width="100%" height="18">
      <ul>
        <li><font face="Verdana" size="2">&nbsp;&nbsp; Y ahora como siempre una 
        imagen que vale mas que mil palabras. En este caso muestro el monitor 
        RS232 conectado al PIC y su contenido es lo que hemos pulsado en el 
        Teclado PS/2 conectado al PIC con la secuencia de <b>[a][s][d][Intro][f][g]</b>:</font></li>
      </ul>
      <p></p></td>
    </tr>
    <tr>
      <td width="100%" height="13">
      <img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_dump.gif" width="365" height="385"></td>
    </tr>
    </tbody></table>
  </center>
</div>
<p align="center">&nbsp;</p>
<div align="center">
  <center>
  <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="75%" id="AutoNumber6" height="55">
    <tbody><tr>
      <td width="100%" height="24">
      <b><font face="Verdana" size="2">
      &nbsp;Recursos:</font></b></td>
    </tr>
    <tr>
      <td width="100%" height="18">
      </td>
    </tr>
    <tr>
      <td width="100%" height="13"><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/en_espagnol.gif" alt="En Español" width="32" height="20">&nbsp;
      <a target="_blank" href="http://www.micropic.es/index.php?option=com_content&task=view&id=38&Itemid=40">
      Ratón PS/2 controlado por un dsPIC por Nocturno.</a></font></td>
    </tr>
    <tr>
      <td width="100%" height="13"><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/en_espagnol.gif" alt="En Español" width="32" height="20">&nbsp;
      <a target="_blank" href="http://picmania.garcia-cuervo.net/recursos/teclado_at-ps2_interfaz_y_funciones_v1.2.pdf">.pdf
      Teclado AT-PS2 Interfaz y funciones v1.2 (PDF)</a></font></td>
    </tr>
    <tr>
      <td width="100%" height="13"><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/en_ingles.gif" alt="En Inglés" width="32" height="20">&nbsp;
      <a target="_blank" href="http://picmania.garcia-cuervo.net/recursos/kbd_spec.pdf">
      TECHNICAL SPECIFICATION FOR G83-6000 (PDF)</a></font></td>
    </tr>
    <tr>
      <td width="100%" height="13"><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/en_ingles.gif" alt="En Inglés" width="32" height="20">&nbsp;
      <a target="_blank" href="http://www.electronic-engineering.ch/microchip/projects/keyboard/v1xx/keyboard_v1xx.html">
      AT Keyboard Interface V1.04</a></font></td>
    </tr>
    <tr>
      <td width="100%" height="13"><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/en_ingles.gif" alt="En Inglés" width="32" height="20">&nbsp;
      <a target="_blank" href="http://www.computer-engineering.org/ps2keyboard/">
      The PS/2 Keyboard Interface</a></font></td>
    </tr>
    <tr>
      <td width="100%" height="13"><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/en_ingles.gif" alt="En Inglés" width="32" height="20">&nbsp;
      <a target="_blank" href="http://www.keelog.com/diy.html">DIY hardware 
      keylogger</a></font></td>
    </tr>
    <tr>
      <td width="100%" height="13"><font face="Verdana" size="2">
      <img border="0" src="./Proyectos   Teclado PS 2_files/en_ingles.gif" alt="En Inglés" width="32" height="20">&nbsp;
      <a target="_blank" href="http://www.ccsinfo.com/forum/viewtopic.php?t=25673">
      As to connect pic to the connector mini din (ps/2) in CCS C Forum</a></font></td>
    </tr>
    <tr>
      <td width="100%" height="13"></td>
    </tr>
    <tr>
      <td width="100%" height="13"></td>
    </tr>
    </tbody></table>
  </center>
</div>
<p>
      <b><font face="Verdana" size="2">
      <a name="RRBOARD2"></a></font></b></p>
<div align="center">
  <center>
  <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="75%" id="AutoNumber6" height="55">
    <tbody><tr>
      <td width="100%" height="24">
      <b><font face="Verdana" size="2">
      &nbsp;Ampliación: Con la <a href="http://picmania.garcia-cuervo.net/proyectos_rrboard2.php">RRBOARD2</a></font></b><p>&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%" height="18">
      <font face="Verdana" size="2">Para el proyecto <b>
      <a href="http://picmania.garcia-cuervo.net/proyectos_kbdemul.php">KBDEMUL</a> </b>voy a necesitar "algo" que 
      reciba PS/2 y que no sea mi PC ya que puede ser una pequeña locura 
      intentar depurar un "emisor PS/2" utilizando la misma entrada donde tengo 
      conectado el teclado con el que estoy trabajando ... <br>
      <br>
      Así que la solución lógica es utilizar otro PC, pero como no tengo otro no 
      tengo mas remedio que tirar de la <a href="http://picmania.garcia-cuervo.net/proyectos_rrboard2.php">
      RRBOARD2</a> haciendo las mismas funciones que en este hacía la
      <a href="http://picmania.garcia-cuervo.net/proyectos_rrboard1.php">RRBOARD1</a>. Así mi "emisor" le hablará 
      a la RRBOAR2 y ésta transmitirá lo que reciba vía RS232 al PC con lo que 
      podré depurar sin problemas ... <br>
      <br>
      Aquí os pego lo que realizado para conectarle el Teclado PS/2 a la 
      RRBOARD2 que calza un 18F4550:<br>
      <br>
      Primero el Adaptador PS/2 a Cable Plano 10 pines ...<br>
&nbsp;</font></td>
    </tr>
    <tr>
      <td width="100%" height="18">
      <p align="center">
      <img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_adaptador_rr2_01.gif" width="427" height="432"><br>
&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%" height="18">
      <font face="Verdana" size="2">Después la conexión entre el Keyboard PS/2 y 
      la RRBOARD2 ...<br>
&nbsp;</font></td>
    </tr>
    <tr>
      <td width="100%" height="18">
      <p align="center">
      <img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_adaptador_rr2_02_foto.gif" width="542" height="509"><br>
&nbsp;</p></td>
    </tr>
    <tr>
      <td width="100%" height="18">
      <font face="Verdana" size="2">Y por último un ejemplo de conexión con el 
      monitor serie del PC:<br>
&nbsp;</font></td>
    </tr>
    <tr>
      <td width="100%" height="18">
      <p align="center"><a target="_blank" href="./Proyectos   Teclado PS 2_files/prj_ps2_dump_rr2.gif">
      <img border="0" src="./Proyectos   Teclado PS 2_files/prj_ps2_dump_rr2.gif" width="760" height="389"></a></p></td>
    </tr>
    </tbody></table>
  </center>
</div>
<p align="center">&nbsp;</p>
<p align="center"><font face="Verdana" size="2">Esta página se modificó el
<!--webbot bot="Timestamp" S-Type="EDITED" S-Format="%d/%m/%Y" startspan -->27/12/2008<!--webbot bot="Timestamp" i-checksum="12548" endspan --></font></p>
<!--msnavigation--></td></tr><!--msnavigation--></tbody></table><!--msnavigation--><table border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td>

<hr color="#FF0000" width="75%">
<div align="center">
  <center>
  <table border="0" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="75%" id="AutoNumber2">
    <tbody><tr>
      <td width="100%">
    <h6 style="text-align: center"><span style="font-weight: 400"><font face="Verdana">Esta página usa la letra Ñ</font></span></h6>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <p align="center"><script type="text/javascript"><!--
google_ad_client = "pub-7769151866033601";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel ="";
google_color_border = "FFFFFF";
google_color_bg = "FFFFFF";
google_color_link = "A9501B";
google_color_text = "000000";
google_color_url = "CC0000";
//--></script>
<script type="text/javascript" src="./Proyectos   Teclado PS 2_files/show_ads.js">
      </script><ins style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins></p>
      </td>
    </tr>
    <tr>
      <td width="100%">
      <p align="justify"><font size="1" face="Verdana"><b>
      <a href="http://picmania.garcia-cuervo.net/nota_01.php">Nota pública 
      importante sobre las consultas al Webmaster de PicManía</a></b>. </font></p>
      </td>
    </tr>
    <tr>
      <td width="100%"><font face="Verdana"><font size="2"><br>
      </font>
      <font size="1">Sugerencias a
      <a href="mailto:micropic[arroba]garcia-cuervo[punto]net?subject=Sugerencia%20a%20Picman%C3%ADa...">Picmanía...</a> 
      (que serán leídas pero seguramente no podrán ser contestadas)</font></font></td>
    </tr>
    <tr>
      <td width="100%">
<font size="1" face="Verdana"><br>
      Esta página pertenece al grupo de páginas de Diego
<a target="_blank" href="http://www.garcia-cuervo.net/">RedRaven</a></font></td>
    </tr>
  </tbody></table>
  </center>
</div>
<p>&nbsp;</p>
<p>&nbsp;</p>

</td></tr><!--msnavigation--></tbody></table>


</body></html>